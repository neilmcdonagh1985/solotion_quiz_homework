# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?

# Answer: In the console.rb file with a hash as an argument.

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?

# Answer: Within the methods 'save', 'update', 'delete' etc. in the property.rb file.

Q3. In `console.rb`, which lines modify the database?

# Answer: Lines 4, 6, 13, 22 and 33.

Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?

# Answer: Because this is generated by the database and must be unique. We therefore do not know the id at the point of instantiation.

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?

# Answer: In the .save method, there is an id generator within the sql. The .save method is called on each property object after its creation in the console.rb file which assigns an id to that particular object.

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?

# Answer: We have not passed in an id in the hash, so we are not expecting to have one at this stage.

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?

# Answer: The class methods such as 'find' and 'delete_all' require access to the class as a whole whereas instance methods like 'delete' and 'update' are to be carried out only on individual instances. 'Find' would not be a relevant function if it didn't have access to the whole database. The class methods also tend to return a new instance/s pulled out of the database rather than just amend what is already there like the instance methods.

Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?

# Answer: A hash (or something resembling one) is returned with the address, values etc. as keys. I'm not too sure how it is accessed, I couldn't really work this out...

Q9. Why do we use prepared statements when performing database operations?

# Answer: They improve performance and prevent injection attacks.

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?

# Answer: They take an id and an address respectively.

Q11. What are their return values?

# Answer: They return new hashes with the instances which met their criteria.
